!function(){"use strict";function n(n,r){for(var t=[],u=0,e=n.length;e>u;u++)t.push(r.call(n,n[u],u));return t}function r(n,r){var t=[];for(var u in n)t.push(r.call(n,n[u],u));return t}function t(t){return l(t)?function(r){return n(t,r)}:function(n){return r(t,n)}}function u(n){var r=t(n);return function(t){return null==t?n:r(t)}}function e(n){return function(r,t,u){u="string"==typeof u&&null!=n[u]?n[u]:u;for(var e=0,o=r.length;o>e;e++)u=t.call(r,u,r[e],e);return u}}function o(n,r){return function(t,u){var e=t.map,o=t.reduce,i=t.init,l=(u||n)(e);return null==o?l:r(l,o,i)}}function i(n,r){if(null==n||0===n.length||null==r)return{};var t={},i=o(u(n),e(t));if(null!=r.map||null!=r.reduce)return i(r);for(var l in r){var f=r[l],c="string"==typeof f.data&&t[f.data],a=!!c&&u(c);t[l]=i(f,a)}return t}var l=Array.isArray||function(n){return"[object Array]"==n.toString()};"undefined"!=typeof exports?module.exports=i:window.collect=i}();