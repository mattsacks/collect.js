!function(){"use strict";function n(n,r){for(var t=[],u=0,e=n.length;e>u;u++)t.push(r.call(n,n[u],u));return t}function r(n,r){var t=[];for(var u in n)t.push(r.call(n,n[u],u));return t}function t(t){var u=i(t)?n:r;return function(n){return u(t,n)}}function u(n){var r=t(n);return function(t){return null==t?n:r(t)}}function e(n){return function(r,t,u){u="string"==typeof u&&null!=n[u]?n[u]:u;for(var e=0,l=r.length;l>e;e++)u=t.call(r,u,r[e],e);return u}}function l(n,r){return function(t,u){var e=t.map,l=t.reduce,o=t.init,i=(u||n)(e);return null==l?i:r(i,l,o)}}function o(n,r){if(null==n||0===n.length||null==r)return{};var t={},o=l(u(n),e(t));if(null!=r.map||null!=r.reduce)return o(r);for(var i in r){var a=r[i],f=null;"string"==typeof a.data&&null!=t[a.data]&&(f=u(t[a.data])),t[i]=o(a,f)}return t}var i=Array.isArray||function(n){return"[object Array]"==n.toString()};"undefined"!=typeof exports?module.exports=o:window.collect=o}();